const d=document.querySelector(".js_characterUl"),f=document.querySelector(".js_inputSearch"),m=document.querySelector(".js_btnSearch"),i=document.querySelector(".js_favouritesUl");let s=[],c=[];const n=e=>{let t;return e.imageUrl?t=e.imageUrl:t="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney",console.log(t),`
        <li class="js_character characters__item" id="${e._id}">
            <img class="characters__img" src="${t}" alt="${e.name}" 
                 onerror="this.src='https://via.placeholder.com/210x295/ffffff/555555/?text=Disney'">
            <h4 class="characters__name">${e.name}</h4>
        </li>`},l=()=>{let e="";for(const r of s)e+=n(r);d.innerHTML=e;const t=document.querySelectorAll(".js_character");for(const r of t)r.addEventListener("click",u)},h=()=>{let e="";for(const t of c)e+=n(t);i.innerHTML=e},u=e=>{e.currentTarget.classList.toggle("thebest");const t=parseInt(e.currentTarget.id,10),r=s.find(a=>a._id===t),o=c.findIndex(a=>a._id===t);if(o===-1){const a=n(r);i.innerHTML+=a,c.push(r)}else c.splice(o,1),h();localStorage.setItem("charactersTheBest",JSON.stringify(c))},p=e=>{const t=`https://api.disneyapi.dev/character?pageSize=50&name=${encodeURIComponent(e)}`;fetch(t).then(r=>r.json()).then(r=>{s=r.data,l()})},g=e=>{e.preventDefault();const t=f.value.toLowerCase().trim();t!==""?p(t):l()};m.addEventListener("click",g);fetch("https://api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{s=e.data,l()});localStorage.getItem("charactersTheBest")!==null&&(c=JSON.parse(localStorage.getItem("charactersTheBest")),h());
//# sourceMappingURL=main.js.map
